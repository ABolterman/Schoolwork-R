---
title: "Lecture 14 Exercises on Data Read In, Long and Wide Formats, and Joins"
author: "Abigail Bolterman"
date: "2022-11-09"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## External Requirements

```{r message=FALSE}
library(dplyr)
library(tidyr)
library(readxl)
creditnames <- read_excel("Lecture14_Part2_credit_data_excel.xlsx", sheet = 'Names')
credit <- read_excel("Lecture14_Part2_credit_data_excel.xlsx", sheet = "Credit Data")
life = read.csv("Lecture14_Part2_lifeexpectancy_data_csv.csv")
```

## Exercises

```{r}
# Testing the csv read in
head(life)
tail(life)
```


```{r}
# Long to wide
knitr::kable(head(credit, 12))
credit_wide = spread(credit, key=Variable, value=Value)
knitr::kable(head(credit_wide))
```


```{r}
innerjoin_df <- inner_join(credit_wide, creditnames, by = 'ID')
```


`inner_join` returns all rows from only `credit_wide` where there are matching values in `creditnames`, and all columns from `credit_wide` and `creditnames`. Because rows are only taken from `credit_wide`, the last 50 rows of `creditnames` are not included in `innerjoin_df`.

```{r}
fulljoin_df <- full_join(credit_wide, creditnames, by = 'ID')
```

`fulljoin` returns all rows and all columns from both `credit_wide` and `creditnames`. Where there are not matching values, returns `NA` for the one missing. Thus, the last 50 rows have `NA`s in the columns from `credit_wide`, since its shorter than `creditnames`.

```{r}
leftjoin_df <- left_join(credit_wide, creditnames, by = 'ID')
```

`leftjoin` returns all rows from only `credit_wide`, and all columns from `credit_wide` and `creditnames`. Rows in `credit_wide` with no match in `creditnames` will have `NA` values in the new columns. Because `credit_wide` has less rows than `creditnames`, there are no `NA`s added and the last 50 rows of `creditnames` are not included in `leftjoin_df`.

```{r}
rightjoin_df <- right_join(credit_wide, creditnames, by = 'ID')
```

`rightjoin` returns all rows from only `creditnames`, and all columns from `credit_wide` and `creditnames`. Rows in `creditnames` with no match in `credit_wide` will have `NA` values in the new columns. So because `creditnames` has 50 more rows than `credit_wide`, the last 50 entries of `rightjoin_df` has `NA`s in the columns from `credit_wide`.

